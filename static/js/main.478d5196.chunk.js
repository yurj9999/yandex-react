(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{102:function(e,t,r){e.exports={main:"modal-overlay_main__W3MSO"}},103:function(e,t,r){e.exports={empty:"empty-page_empty__2licM"}},105:function(e,t,r){e.exports={wrapper:"ingredients-constructor_wrapper___Fcan"}},14:function(e,t,r){e.exports={headerWrapper:"app-header_headerWrapper__yuQce",wrapperMenu:"app-header_wrapperMenu__1ftww",flex:"app-header_flex__1l_Uh",darkTextColor:"app-header_darkTextColor__-2bvL",lightTextColor:"app-header_lightTextColor__22iM1",logoWrapper:"app-header_logoWrapper__1Pgs2",feedLink:"app-header_feedLink__3RI4I",constrLink:"app-header_constrLink__3fKVr"}},15:function(e,t,r){e.exports={menuProfile:"profile-links_menuProfile__TAoMl",itemMenu:"profile-links_itemMenu__1SiZB",footerMenu:"profile-links_footerMenu__1FadQ",lastItemMenu:"profile-links_lastItemMenu__29XGy",link:"profile-links_link__3pRBI",unchecked:"profile-links_unchecked__2Hf2X",checked:"profile-links_checked__3v5u6",exitBtn:"profile-links_exitBtn__1LrAI"}},16:function(e,t,r){e.exports={wrapper:"burger_wrapper__2Hg6e",titleWrapper:"burger_titleWrapper__21ga7",titleTime:"burger_titleTime__Z3oyj",textWrapper:"burger_textWrapper__3qyqm",captionBurger:"burger_captionBurger__2RqB4",cancelled:"burger_cancelled__1qTOJ",inWork:"burger_inWork__1v4jf",burgerWrapper:"burger_burgerWrapper__1lX3Q",img:"burger_img__1K7en",costWrapper:"burger_costWrapper__25mZd",cost:"burger_cost__3gKOC",ingredientsWrapper:"burger_ingredientsWrapper__3DCPw",ingredientCount:"burger_ingredientCount__3qWTY",imgWrapper:"burger_imgWrapper__3YqMG"}},17:function(e,t,r){e.exports={wrapper:"order-info_wrapper__3wabG",title:"order-info_title__yGOsc",status:"order-info_status__cb0nO",details:"order-info_details__2-_5C",orderDetailsWrapper:"order-info_orderDetailsWrapper__2tQq5",footer:"order-info_footer__gSoQb",footerText:"order-info_footerText__3x-GR",countWrapper:"order-info_countWrapper__1IbKz",ingredient:"order-info_ingredient__pdaAB",cost:"order-info_cost__2Vt-P",countCostWrapper:"order-info_countCostWrapper__3qnD5",ingredientWrapper:"order-info_ingredientWrapper__3Nsf6",img:"order-info_img__3-IXP"}},188:function(e,t,r){},189:function(e,t,r){},190:function(e,t,r){"use strict";r.r(t),r.d(t,"store",(function(){return St}));var n=r(1),a=r.n(n),c=r(39),s=r.n(c),i=r(6),o=r(31),l=r(18),d=r(19),p=Object(l.b)({name:"ingredients",initialState:{blockedAll:!0,error:"",ingredients:[]},reducers:{setAllIngredientsRequest:function(e){e.blockedAll=!0},setAllIngredientsError:function(e,t){e.ingredients=[],e.error=t.payload},setAllIngredientsSuccess:function(e,t){e.blockedAll=!1,e.ingredients=t.payload}}}),u=p.reducer,j=p.actions,m=Object(l.b)({name:"constructor",initialState:{bun:{},fillings:[]},reducers:{setBuns:function(e,t){e.bun=t.payload},setFillings:function(e,t){e.fillings.push(t.payload)},updateFillings:function(e,t){e.fillings=t.payload},deleteIngredient:function(e,t){e.fillings=t.payload}}}),b=m.reducer,x=m.actions,f=Object(l.b)({name:"user",initialState:{success:!1,user:{email:"",name:""},accessToken:"",refreshToken:"",error:"",isBlocked:!1,isExit:!1},reducers:{setUserRequest:function(e){e.isBlocked=!0,e.isExit=!1},setUserError:function(e,t){e.success=t.payload.success,e.error=t.payload.error,e.user.email="",e.user.name="",e.accessToken="",e.refreshToken="",e.isBlocked=!1,e.isExit=!1},setUserSuccess:function(e,t){e.success=t.payload.success,e.user=t.payload.user,e.accessToken=t.payload.accessToken,e.refreshToken=t.payload.refreshToken,e.error="",e.isBlocked=!1,e.isExit=!1},setUserClear:function(e){e.success=!0,e.user.email="",e.user.name="",e.accessToken="",e.refreshToken="",e.error="",e.isBlocked=!1,e.isExit=!0},setUpdatedTokens:function(e,t){e.accessToken=t.payload.accessToken}}}),h=f.reducer,_=f.actions,O=Object(l.b)({name:"order-tape",initialState:{orders:[],total:0,totalToday:0},reducers:{setOrders:function(e,t){e.orders=t.payload.orders,e.total=t.payload.total,e.totalToday=t.payload.totalToday},clearOrders:function(e){e.orders=[],e.total=0,e.totalToday=0}}}),g=O.reducer,v=(O.actions,Object(l.b)({name:"my-orders",initialState:{orders:[]},reducers:{setOrders:function(e,t){e.orders=t.payload.orders},clearOrders:function(e){e.orders=[]}}})),y=v.reducer,k=(v.actions,Object(l.b)({name:"modal",initialState:{number:null,name:null,status:"",details:""},reducers:{setStartInfo:function(e){e.number=null,e.name="\u0417\u0430\u043a\u0430\u0437 \u043f\u0440\u0438\u043d\u044f\u0442",e.status="\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c",e.details="\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"},setEndInfo:function(e,t){e.number=t.payload.number,e.name=t.payload.name,e.status="\u0417\u0430\u043a\u0430\u0437 \u0433\u043e\u0442\u043e\u0432",e.details="\u041f\u0440\u0438\u044f\u0442\u043d\u043e\u0433\u043e \u0430\u043f\u043f\u0435\u0442\u0438\u0442\u0430"}}})),w=k.reducer,N=(k.actions,Object(d.b)({ingredients:u,constructorIngredients:b,user:h,orderTape:g,myOrders:y,modal:w})),T=r(5),W=r(8),C=r.n(W),I=r(12),S="https://norma.nomoreparties.space/api/auth/user",E="https://norma.nomoreparties.space/api/auth/token",A=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},R=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(r=Object(T.a)({path:"/"},r)).expires instanceof Date&&(r.expires=r.expires.toUTCString());var n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var a in r){n+="; "+a;var c=r[a];c||(n+="="+c)}document.cookie=n},B=function(e){R(e,"",{expires:-1})},U=function(){var e=Object(I.a)(C.a.mark((function e(t,r){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(E,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({token:localStorage.getItem("burgerRefreshToken")})});case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435.");case 6:return e.next=8,n.json();case 8:return a=e.sent,R("burgerAccessToken",a.accessToken),localStorage.setItem("burgerRefreshToken",a.refreshToken),t(r(a)),e.abrupt("return",a);case 15:throw e.prev=15,e.t0=e.catch(0),new Error;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),L="WS_CONNECT_ORDER_TAPE",M="WS_DISCONNECT_ORDER_TAPE",P="WS_CONNECT_USER_ORDERS",D="WS_DISCONNECT_USER_ORDERS",F=function e(t,r){var n=_.setUserRequest,a=_.setUserError,c=_.setUserSuccess,s=_.setUpdatedTokens,i=new Headers;return i.set("Content-Type","application/json;charset=utf-8"),i.set("authorization",A("burgerAccessToken")),function(){var o=Object(I.a)(C.a.mark((function o(l){var d,p,u;return C.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,l(n()),o.next=4,fetch(S,{method:"PATCH",headers:i,body:JSON.stringify(t)});case 4:if((d=o.sent).ok){o.next=16;break}return o.next=8,d.json();case 8:if("jwt expired"!==(p=o.sent).message){o.next=15;break}return o.next=12,U(l,s);case 12:throw new Error(p.message);case 15:throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430");case 16:return o.next=18,d.json();case 18:u=o.sent,l(c(Object(T.a)(Object(T.a)({},u),{},{accessToken:r,refreshToken:localStorage.getItem("burgerRefreshToken")}))),o.next=30;break;case 22:if(o.prev=22,o.t0=o.catch(0),"jwt expired"!==o.t0.message){o.next=29;break}return o.next=27,e(t,r);case 27:o.next=30;break;case 29:l(a(o.t0.message));case 30:case"end":return o.stop()}}),o,null,[[0,22]])})));return function(e){return o.apply(this,arguments)}}()},z=function e(){var t=_.setUserSuccess,r=_.setUserError,n=_.setUserRequest,a=_.setUpdatedTokens,c=new Headers;return c.set("Content-Type","application/json;charset=utf-8"),c.set("authorization",A("burgerAccessToken")),function(){var s=Object(I.a)(C.a.mark((function s(i){var o,l,d;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i(n()),s.next=4,fetch(S,{method:"GET",headers:c});case 4:if((o=s.sent).ok){s.next=17;break}return s.next=8,o.json();case 8:if("jwt expired"!==(l=s.sent).message){s.next=16;break}return B("burgerAccessToken"),s.next=13,U(i,a);case 13:throw new Error(l.message);case 16:throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430");case 17:return s.next=19,o.json();case 19:d=s.sent,i(t(Object(T.a)(Object(T.a)({},d),{},{accessToken:A("burgerAccessToken"),refreshToken:localStorage.getItem("burgerRefreshToken")}))),s.next=32;break;case 23:if(s.prev=23,s.t0=s.catch(0),"jwt expired"!==s.t0.message){s.next=30;break}return s.next=28,e();case 28:s.next=32;break;case 30:return i(r(s.t0.message)),s.abrupt("return",s.t0);case 32:case"end":return s.stop()}}),s,null,[[0,23]])})));return function(e){return s.apply(this,arguments)}}()},H=function(e){var t=_.setUserError,r=_.setUserRequest,n=new Headers;return n.set("Content-Type","application/json"),function(){var a=Object(I.a)(C.a.mark((function a(c){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(r()),a.prev=1,a.next=4,fetch("https://norma.nomoreparties.space/api/auth/logout",{method:"POST",headers:n,referrerPolicy:"no-referrer",body:JSON.stringify(e)});case 4:if(a.sent.ok){a.next=7;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435.");case 7:B("burgerAccessToken"),localStorage.removeItem("burgerRefreshToken"),a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(1),c(t(a.t0.message)),a.abrupt("return",a.t0);case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},q=function(e,t){var r=_.setUserRequest,n=_.setUserSuccess,a=_.setUserError,c=new Headers;return c.set("Content-Type","application/json"),function(){var s=Object(I.a)(C.a.mark((function s(i){var o,l;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i(r()),s.prev=1,s.next=4,fetch("registration"===t?"https://norma.nomoreparties.space/api/auth/register":"https://norma.nomoreparties.space/api/auth/login",{method:"POST",headers:c,referrerPolicy:"no-referrer",body:JSON.stringify(e)});case 4:if((o=s.sent).ok){s.next=7;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435.");case 7:return s.next=9,o.json();case 9:l=s.sent,R("burgerAccessToken",l.accessToken),localStorage.setItem("burgerRefreshToken",l.refreshToken),i(n(l)),s.next=19;break;case 15:return s.prev=15,s.t0=s.catch(1),i(a(s.t0.message)),s.abrupt("return",s.t0);case 19:case"end":return s.stop()}}),s,null,[[1,15]])})));return function(e){return s.apply(this,arguments)}}()},J=function(e){var t=null,r=null;return function(n){return function(a){var c,s,i=e.dispatch;switch(a.type){case L:null===t&&(t=new WebSocket(a.payload.url))&&(t.onmessage=function(e){var r;"ping"===e.data&&(null===(r=t)||void 0===r||r.send("pong"));i({type:"order-tape/setOrders",payload:JSON.parse(e.data)})});break;case M:null===(c=t)||void 0===c||c.close(),t=null,i({type:"order-tape/clearOrders"});break;case P:null===r&&(r=new WebSocket(a.payload.url))&&(r.onmessage=function(e){var t;"ping"===e.data&&(null===(t=r)||void 0===t||t.send("pong"));i({type:"my-orders/setOrders",payload:JSON.parse(e.data)})});break;case D:null===(s=r)||void 0===s||s.close(),r=null,i({type:"my-orders/clearOrders"})}n(a)}}},G=function(){return Object(o.b)()},Q=o.c,V=r(11),K=r(3),X=r(14),Y=r.n(X),Z=r(0),$=function(){return Object(Z.jsxs)("header",{className:Y.a.headerWrapper,children:[Object(Z.jsxs)("div",{className:Y.a.wrapperMenu,children:[Object(Z.jsxs)("div",{className:Y.a.flex,children:[Object(Z.jsxs)("div",{className:"mt-2 mb-2 p-2 ".concat(Y.a.flex),children:[Object(Z.jsx)(K.BurgerIcon,{type:"primary"}),Object(Z.jsx)(i.c,{exact:!0,to:"/",isActive:function(e,t){return!(!e&&-1===t.pathname.indexOf("ingredients")&&-1===t.pathname.indexOf("start-order"))},activeClassName:Y.a.lightTextColor,className:"text text_type_main-default ml-1 ".concat(Y.a.feedLink," ").concat(Y.a.darkTextColor),children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(Z.jsxs)("div",{className:"mt-2 mb-2 p-2 ".concat(Y.a.flex),children:[Object(Z.jsx)(K.ListIcon,{type:"primary"}),Object(Z.jsx)(i.c,{className:"text text_type_main-default ml-1 ".concat(Y.a.feedLink," ").concat(Y.a.darkTextColor),activeClassName:Y.a.lightTextColor,to:"/feed",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(Z.jsxs)("div",{className:"mt-2 mb-2 p-2 ".concat(Y.a.flex),children:[Object(Z.jsx)(K.ProfileIcon,{type:"primary"}),Object(Z.jsx)(i.c,{className:"text text_type_main-default ml-1 ".concat(Y.a.feedLink," ").concat(Y.a.darkTextColor),activeClassName:Y.a.lightTextColor,to:"/profile",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]}),Object(Z.jsx)("div",{className:Y.a.logoWrapper,children:Object(Z.jsx)(K.Logo,{})})]})},ee=a.a.memo($),te=r(102),re=r.n(te),ne=function(e){var t=e.children,r=Object(V.g)();return Object(Z.jsx)("div",{className:re.a.main,onClick:function(){return r.goBack()},children:t})},ae=r(58),ce=r.n(ae),se=document.getElementById("modal"),ie=function(e){var t=e.children,r=Object(V.g)();Object(n.useEffect)((function(){return document.addEventListener("keydown",a),function(){return document.removeEventListener("keydown",a)}}));var a=function(){return r.goBack()};return s.a.createPortal(Object(Z.jsx)(ne,{children:Object(Z.jsx)("div",{className:ce.a.main,onClick:function(e){return e.stopPropagation()},children:Object(Z.jsxs)("div",{className:ce.a.wrapper,children:[t,Object(Z.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADPSURBVHgBlZTbDcMgDEUxUQdgg6ySyTNK2ACF9q8Cl1ukKiU8jH9i2c6RsS+Q969DJQvhvRljrJow59y6LI8dvmaO6cPfABLzEF7B0DGGjZntDOwfwhaMX+I8/eH9k3HUHgw51KAW/9xqJbAhRAIbQagG03rZiSgVksU2ES9nUm6YWp1dYTnahjRBd1jCdCAwrTpGpKt+tVY1urnOJIPQWZ6Z6GgtsZUL6F6n3orFopWIbQgTK7YDo9pMRs9JTbSU3yM5pAUjtInEDKSEwf8AUWh+6yealnMAAAAASUVORK5CYII=",className:ce.a.close,alt:"close",onClick:a})]})})}),se)},oe=r(27),le=r.n(oe),de=function(){var e=Object(V.i)().id,t=Q((function(e){return e.ingredients})).ingredients.find((function(t){return t._id===e}));return t&&Object.keys(t).length?Object(Z.jsxs)("div",{className:le.a.wrapper,children:[Object(Z.jsx)("p",{className:"text text_type_main-large ".concat(le.a.title),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(Z.jsxs)("div",{className:le.a.main,children:[Object(Z.jsx)("img",{alt:"bun",src:t.image_large,className:"mb-2 ".concat(le.a.image)}),Object(Z.jsx)("div",{className:"text text_type_main-medium ".concat(le.a.name),children:t.name}),Object(Z.jsx)("div",{className:"text text_type_main-default ".concat(le.a.details),children:"\u041f\u0440\u0435\u0432\u043e\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u043a\u043e\u0442\u043b\u0435\u0442\u044b \u0438\u0437 \u043c\u0430\u0440\u0441\u0438\u0430\u043d\u0441\u043a\u043e\u0439 \u041c\u0430\u0433\u043d\u043e\u043b\u0438\u0438 \u0434\u043b\u044f \u0444\u0438\u0440\u043c\u0435\u043d\u043d\u044b\u0445 \u043a\u043e\u0441\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0431\u0443\u0440\u0433\u0435\u0440\u043e\u0432, \u043d\u0430\u0431\u0438\u0440\u0430\u044e\u0449\u0438\u0445 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0432\u0441\u0435\u0439 \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439."}),Object(Z.jsxs)("div",{className:le.a.infoWrapper,children:[Object(Z.jsxs)("div",{className:le.a.infoElement,children:[Object(Z.jsx)("p",{className:"text text_type_main-default",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(Z.jsx)("p",{className:"text text_type_digits-default pt-1",children:t.calories})]}),Object(Z.jsxs)("div",{className:le.a.infoElement,children:[Object(Z.jsx)("p",{className:"text text_type_main-default",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(Z.jsx)("p",{className:"text text_type_digits-default pt-1",children:t.proteins})]}),Object(Z.jsxs)("div",{className:le.a.infoElement,children:[Object(Z.jsx)("p",{className:"text text_type_main-default",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(Z.jsx)("p",{className:"text text_type_digits-default pt-1",children:t.fat})]}),Object(Z.jsxs)("div",{className:le.a.infoElement,children:[Object(Z.jsx)("p",{className:"text text_type_main-default",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(Z.jsx)("p",{className:"text text_type_digits-default pt-1",children:t.carbohydrates})]})]})]})]}):null},pe=r(29),ue=r.n(pe),je=function(){var e=Q((function(e){return e.modal})),t=e.number,r=e.name,n=e.status,a=e.details;return Object(Z.jsxs)("div",{className:ue.a.wrapper,children:[Object(Z.jsx)("p",{className:"text text_type_digits-large mb-4 ".concat(ue.a.number),children:t}),Object(Z.jsx)("p",{className:"text text_type_main-medium ".concat(ue.a.title),children:r}),Object(Z.jsxs)("div",{className:ue.a.image,children:[Object(Z.jsx)("div",{className:ue.a.vektorSecond,children:Object(Z.jsxs)("svg",{width:"107",height:"100",viewBox:"0 0 107 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M103.944 38.453C108.019 45.5983 108.019 54.4017 103.944 61.547L88.5996 88.453C84.5247 95.5983 76.994 100 68.8442 100H38.1558C30.006 100 22.4753 95.5983 18.4004 88.453L3.05617 61.547C-1.01872 54.4017 -1.01872 45.5983 3.05617 38.453L18.4004 11.547C22.4753 4.40169 30.006 0 38.1558 0L68.8442 0C76.994 0 84.5247 4.40169 88.5996 11.547L103.944 38.453Z",fill:"url(#paint0_radial)",fillOpacity:"0.25"}),Object(Z.jsx)("defs",{children:Object(Z.jsxs)("radialGradient",{id:"paint0_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(53.5 50) rotate(-43.0632) scale(73.2274 55.0025)",children:[Object(Z.jsx)("stop",{stopColor:"#801AB3",stopOpacity:"0"}),Object(Z.jsx)("stop",{offset:"1",stopColor:"#4C4CFF"})]})})]})}),Object(Z.jsx)("div",{className:ue.a.vektorThird,children:Object(Z.jsxs)("svg",{width:"98",height:"102",viewBox:"0 0 98 102",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.36637 37.3873C-1.45546 45.5044 -1.45545 56.4957 4.36637 64.6127L24.3336 92.4518C30.1554 100.569 40.4748 103.965 49.8947 100.865L82.2023 90.2313C91.6223 87.1309 98 78.2387 98 68.2055V33.7945C98 23.7612 91.6222 14.8691 82.2023 11.7687L49.8947 1.13508C40.4748 -1.96536 30.1554 1.43114 24.3336 9.54819L4.36637 37.3873Z",fill:"url(#paint0_radial)",fillOpacity:"0.25"}),Object(Z.jsx)("defs",{children:Object(Z.jsxs)("radialGradient",{id:"paint0_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(49 51) rotate(-46.1458) scale(70.7248 53.2019)",children:[Object(Z.jsx)("stop",{stopColor:"#801AB3",stopOpacity:"0"}),Object(Z.jsx)("stop",{offset:"1",stopColor:"#4C4CFF"})]})})]})}),Object(Z.jsx)("div",{className:ue.a.vektorFirst,children:Object(Z.jsxs)("svg",{width:"68",height:"66",viewBox:"0 0 68 66",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.9249 2.91091C30.3362 -0.970307 37.6638 -0.970302 43.0751 2.91092L61.6345 16.2224C67.0459 20.1036 69.3102 26.9832 67.2433 33.2632L60.1542 54.8016C58.0873 61.0815 52.1592 65.3333 45.4703 65.3333H22.5296C15.8408 65.3333 9.91274 61.0815 7.84578 54.8016L0.756717 33.2632C-1.31024 26.9832 0.954096 20.1036 6.36546 16.2224L24.9249 2.91091Z",fill:"url(#paint0_radial)",fillOpacity:"0.25"}),Object(Z.jsx)("defs",{children:Object(Z.jsxs)("radialGradient",{id:"paint0_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(34 32.6667) rotate(136.146) scale(47.1499 35.4679)",children:[Object(Z.jsx)("stop",{stopColor:"#801AB3",stopOpacity:"0"}),Object(Z.jsx)("stop",{offset:"1",stopColor:"#4C4CFF",stopOpacity:"0.5"})]})})]})}),Object(Z.jsx)("div",{className:ue.a.done,children:Object(Z.jsx)("svg",{width:"40",height:"28",viewBox:"0 0 40 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Z.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.3122 0.595853C40.1999 1.4172 40.2327 2.78057 39.3852 3.64103L16.0519 27.3333C15.6272 27.7646 15.0371 28.0059 14.422 27.9999C13.8069 27.9939 13.222 27.741 12.8063 27.3016L0.584115 14.3785C-0.245201 13.5016 -0.184084 12.1392 0.720625 11.3354C1.62533 10.5316 3.03104 10.5908 3.86035 11.4677L14.4773 22.6934L36.1703 0.666671C37.0177 -0.193786 38.4244 -0.225493 39.3122 0.595853Z",fill:"#F2F2F3"})})})]}),Object(Z.jsx)("p",{className:"text text_type_main-default mb-1",children:n}),Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(ue.a.details),children:a})]})},me=r(7),be=function(e){var t=e.children,r=e.path,a=e.protectType,c=Object(o.b)(),s=_.setUpdatedTokens,i=localStorage.getItem("burgerRefreshToken"),l=Object(n.useState)({isTokenValid:!1,routeType:"none"}),d=Object(me.a)(l,2),p=d[0],u=d[1],j=p.isTokenValid,m=p.routeType,b={nonAuthorized:Object(Z.jsx)(V.b,{path:r,render:function(e){var r=e.location;return j||i?t:Object(Z.jsx)(V.a,{to:{pathname:"/login",state:{from:r}}})}}),authorized:Object(Z.jsx)(V.b,{path:r,render:function(){return j||i?Object(Z.jsx)(V.a,{to:"/"}):t}})};return Object(n.useEffect)((function(){"none"===m&&U(c,s).then((function(e){return u({isTokenValid:e.success,routeType:a})})).catch((function(){return u({isTokenValid:!1,routeType:a})}))}),[c,s,a,m]),"none"===m?null:b[a]},xe=r(4),fe=r.n(xe),he=(r(44),function(){var e=Object(o.b)(),t=Object(V.g)(),r=Object(n.useRef)(null),a=Object(n.useState)(""),c=Object(me.a)(a,2),s=c[0],l=c[1],d=Object(n.useState)(""),p=Object(me.a)(d,2),u=p[0],j=p[1],m=Object(n.useState)({type:"password",value:"",icon:"ShowIcon"}),b=Object(me.a)(m,2),x=b[0],f=b[1];return Object(Z.jsxs)("div",{className:fe.a.wrapper,children:[Object(Z.jsx)("div",{className:fe.a.logo,children:Object(Z.jsx)(K.Logo,{})}),Object(Z.jsx)("p",{className:"text text_type_main-medium ".concat(fe.a.title),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(Z.jsxs)("form",{onSubmit:function(r){r.preventDefault(),e(q({name:s,email:u,password:x.value},"registration")).then((function(e){if(e instanceof Error)throw new Error;t.replace({pathname:"/"})})).catch((function(e){return console.log(e)}))},children:[Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{type:"text",placeholder:"\u0418\u043c\u044f",value:s,onChange:function(e){return l(e.target.value)}})}),Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{type:"email",placeholder:"E-mail",value:u,onChange:function(e){return j(e.target.value)}})}),Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{type:x.type,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:x.value,onChange:function(e){return f(Object(T.a)(Object(T.a)({},x),{},{value:e.target.value}))},icon:x.icon,ref:r,onIconClick:function(){f(Object(T.a)(Object(T.a)({},x),{},{type:"password"===x.type?"text":"password",icon:"ShowIcon"===x.icon?"HideIcon":"ShowIcon"}))}})}),Object(Z.jsx)("div",{className:fe.a.button,children:Object(Z.jsx)(K.Button,{type:"primary",size:"large",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(Z.jsxs)("div",{className:fe.a.footer,children:[Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(fe.a.footerInfo),children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(Z.jsx)(i.b,{to:"/login",className:"text text_type_main-default ml-2 ".concat(fe.a.footerEnter),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}),_e=function(){var e=G(),t=Object(V.g)(),r=Object(V.h)(),a=Object(n.useRef)(null),c=Object(n.useState)(""),s=Object(me.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)({type:"password",value:"",icon:"ShowIcon"}),p=Object(me.a)(d,2),u=p[0],j=p[1];return Object(Z.jsxs)("div",{className:fe.a.wrapper,children:[Object(Z.jsx)("div",{className:fe.a.logo,children:Object(Z.jsx)(K.Logo,{})}),Object(Z.jsx)("p",{className:"text text_type_main-medium ".concat(fe.a.title),children:"\u0412\u0445\u043e\u0434"}),Object(Z.jsxs)("form",{onSubmit:function(n){n.preventDefault(),e(q({email:o,password:u.value},"authorization")).then((function(e){var n,a,c;if(e instanceof Error)throw new Error;"/start-order"!==(null===(n=r.state)||void 0===n||null===(a=n.from)||void 0===a?void 0:a.pathname)&&"POP"!==t.action&&(null===(c=r.state)||void 0===c?void 0:c.from)?t.push(r.state.from.pathname):t.push("/")})).catch((function(e){return console.log(e)}))},children:[Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{type:"email",placeholder:"E-mail",value:o,onChange:function(e){return l(e.target.value)}})}),Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{type:u.type,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:u.value,onChange:function(e){return j(Object(T.a)(Object(T.a)({},u),{},{value:e.target.value}))},icon:u.icon,ref:a,onIconClick:function(){j(Object(T.a)(Object(T.a)({},u),{},{type:"password"===u.type?"text":"password",icon:"ShowIcon"===u.icon?"HideIcon":"ShowIcon"}))}})}),Object(Z.jsx)("div",{className:fe.a.button,children:Object(Z.jsx)(K.Button,{type:"primary",size:"large",children:"\u0412\u043e\u0439\u0442\u0438"})})]}),Object(Z.jsxs)("div",{className:"mb-4 ".concat(fe.a.footer),children:[Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(fe.a.footerInfo),children:"\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(Z.jsx)(i.b,{to:"/register",className:"text text_type_main-default ml-2 ".concat(fe.a.footerEnter),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(Z.jsxs)("div",{className:fe.a.footer,children:[Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(fe.a.footerInfo),children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Z.jsx)(i.b,{to:"/forgot-password",className:"text text_type_main-default ml-2 ".concat(fe.a.footerEnter),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},Oe=function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://norma.nomoreparties.space/api/password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});case 3:if(e.sent.ok){e.next=6;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435.");case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(V.g)(),t=Object(n.useState)(""),r=Object(me.a)(t,2),a=r[0],c=r[1];return Object(Z.jsxs)("div",{className:fe.a.wrapper,children:[Object(Z.jsx)("div",{className:fe.a.logo,children:Object(Z.jsx)(K.Logo,{})}),Object(Z.jsx)("p",{className:"text text_type_main-medium ".concat(fe.a.title),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(Z.jsxs)("form",{onSubmit:function(t){t.preventDefault(),a&&Oe(a).then((function(t){if(t instanceof Error)throw new Error;localStorage.setItem("allowResetPassword","allow"),e.replace({pathname:"/reset-password"})})).catch((function(e){return console.log(e)}))},children:[Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{type:"email",placeholder:"E-mail",value:a,onChange:function(e){return c(e.target.value)}})}),Object(Z.jsx)("div",{className:fe.a.button,children:Object(Z.jsx)(K.Button,{type:"primary",size:"large",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]}),Object(Z.jsxs)("div",{className:fe.a.footer,children:[Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(fe.a.footerInfo),children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Z.jsx)(i.b,{to:"/login",className:"text text_type_main-default ml-2 ".concat(fe.a.footerEnter),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},ve=function(){var e=Object(I.a)(C.a.mark((function e(t){var r,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.password,n=t.token,e.prev=1,e.next=4,fetch("https://norma.nomoreparties.space/api/password-reset/reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:r,token:n})});case 4:if(e.sent.ok){e.next=7;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435.");case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),console.log(e.t0.message),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(n.useRef)(null),t=Object(V.g)(),r=Object(n.useState)(""),a=Object(me.a)(r,2),c=a[0],s=a[1],o=Object(n.useState)({type:"password",value:"",icon:"ShowIcon"}),l=Object(me.a)(o,2),d=l[0],p=l[1];return Object(n.useEffect)((function(){return function(){return localStorage.setItem("allowResetPassword","")}}),[]),localStorage.getItem("allowResetPassword")?Object(Z.jsxs)("div",{className:fe.a.wrapper,children:[Object(Z.jsx)("div",{className:fe.a.logo,children:Object(Z.jsx)(K.Logo,{})}),Object(Z.jsx)("p",{className:"text text_type_main-medium ".concat(fe.a.title),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(Z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.value&&c&&ve({password:d.value,token:c}).then((function(e){if(e instanceof Error)throw new Error;localStorage.setItem("allowResetPassword",""),t.replace({pathname:"/login"})})).catch((function(e){return console.log(e)}))},children:[Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{type:d.type,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",value:d.value,onChange:function(e){return p(Object(T.a)(Object(T.a)({},d),{},{value:e.target.value}))},icon:d.icon,ref:e,onIconClick:function(){p(Object(T.a)(Object(T.a)({},d),{},{type:"password"===d.type?"text":"password",icon:"ShowIcon"===d.icon?"HideIcon":"ShowIcon"}))}})}),Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",value:c,onChange:function(e){return s(e.target.value)}})}),Object(Z.jsx)("div",{className:fe.a.button,children:Object(Z.jsx)(K.Button,{type:"primary",size:"large",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),Object(Z.jsxs)("div",{className:fe.a.footer,children:[Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(fe.a.footerInfo),children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Z.jsx)(i.b,{to:"/login",className:"text text_type_main-default ml-2 ".concat(fe.a.footerEnter),children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(Z.jsx)(V.a,{to:"/login"})},ke=r(15),we=r.n(ke),Ne=function(){var e=_.setUserClear,t=G(),r=Object(V.g)(),n=function(){var n=Object(I.a)(C.a.mark((function n(){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(H({token:localStorage.getItem("burgerRefreshToken")}));case 2:r.replace({pathname:"/login"}),t(e());case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(Z.jsxs)("div",{className:we.a.menuProfile,children:[Object(Z.jsx)("div",{className:we.a.itemMenu,children:Object(Z.jsx)(i.c,{exact:!0,to:"/profile",className:"text text_type_main-medium ".concat(we.a.link," ").concat(we.a.unchecked),activeClassName:we.a.checked,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(Z.jsx)("div",{className:we.a.itemMenu,children:Object(Z.jsx)(i.c,{exact:!0,to:"/profile/orders",className:"text text_type_main-medium ".concat(we.a.link," ").concat(we.a.unchecked),activeClassName:we.a.checked,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(Z.jsx)("div",{className:"".concat(we.a.itemMenu," ").concat(we.a.lastItemMenu),children:Object(Z.jsx)("div",{onClick:n,className:"text text_type_main-medium ".concat(we.a.link," ").concat(we.a.exitBtn," ").concat(we.a.unchecked),children:"\u0412\u044b\u0445\u043e\u0434"})}),Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(we.a.footerMenu),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]})},Te=function(){var e=G(),t=Q((function(e){return e.user})),r=Object(n.useState)({name:"",email:"",password:""}),a=Object(me.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){t.user.name||t.isExit?s({name:t.user.name,email:t.user.email,password:""}):e(z())}),[e,t.user.name,t.user.email,t.isExit]),Object(Z.jsx)("div",{className:fe.a.mainProfileWrapper,children:Object(Z.jsxs)("div",{className:fe.a.profileWrapper,children:[Object(Z.jsx)("div",{className:fe.a.linksWrapper,children:Object(Z.jsx)(Ne,{})}),Object(Z.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(F(Object(T.a)({},c)))},children:Object(Z.jsxs)("div",{className:fe.a.inputsWrapper,children:[Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{icon:"EditIcon",type:"text",placeholder:"\u0418\u043c\u044f",value:c.name,onChange:function(e){return s(Object(T.a)(Object(T.a)({},c),{},{name:e.target.value}))}})}),Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{icon:"EditIcon",type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",value:c.email,onChange:function(e){return s(Object(T.a)(Object(T.a)({},c),{},{email:e.target.value}))}})}),Object(Z.jsx)("div",{className:fe.a.inputWrapper,children:Object(Z.jsx)(K.Input,{icon:"EditIcon",type:c.password?"password":"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:c.password,onChange:function(e){return s(Object(T.a)(Object(T.a)({},c),{},{password:e.target.value}))}})}),Object(Z.jsxs)("div",{className:fe.a.buttonsWrapper,children:[Object(Z.jsx)(K.Button,{type:"primary",size:"large",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(Z.jsx)(K.Button,{type:"primary",size:"large",onClick:function(){return s({name:t.user.name,email:t.user.email,password:""})},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})]})})},We=r(103),Ce=r.n(We),Ie=function(){return Object(Z.jsx)("p",{className:"text text_type_main-large ".concat(Ce.a.empty),children:"404"})},Se=function(e,t){var r=[];return e.forEach((function(t){var n=e.filter((function(e){return e===t})).length;r.find((function(e){return(null===e||void 0===e?void 0:e.id)===t}))||r.push({id:t,count:n})})),r.map((function(e){var r=t.find((function(t){return t._id===e.id})),n=r.name,a=r.price,c=r.image_mobile;return Object(T.a)(Object(T.a)({},e),{},{name:n,price:a,image_mobile:c})}))},Ee=function(e,t){return e.map((function(e){var r;return null!==e?null===(r=t.find((function(t){return t._id===e})))||void 0===r?void 0:r.price:null})).reduce((function(e,t){return e+t}),0)},Ae=function(e){var t=function(e){return e<10?"0".concat(e):e},r=new Date(e),n=function(e,t){var r=Math.round((e-new Date(t).getTime())/864e5),n=parseInt(r.toString().substr(r.toString().length-1,1));return 0===r?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f":r>=11&&r<15||n>=5?"".concat(r," \u0434\u043d\u0435\u0439 \u043d\u0430\u0437\u0430\u0434"):n>1&&n<5?"".concat(r," \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434"):1===n?"".concat(r," \u0434\u0435\u043d\u044c \u043d\u0430\u0437\u0430\u0434"):void 0}((new Date).getTime(),r),a=t(r.getHours()),c=t(r.getMinutes()),s="i-GMT".concat(r.getTimezoneOffset()/60);return"".concat(n," ").concat(a,":").concat(c," ").concat(s)},Re=function(e){switch(e){case"created":return"\u0421\u043e\u0437\u0434\u0430\u043d";case"pending":return"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f";default:return"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}},Be=r(17),Ue=r.n(Be),Le=function(e){var t=e.showOrders,r=Object(V.i)(),a=G(),c=Object(n.useState)(null),s=Object(me.a)(c,2),i=s[0],o=s[1],l=Q((function(e){return e.ingredients})).ingredients,d=Q((function(e){return e.user.accessToken})),p=Q((function(e){return"all"===t?e.orderTape.orders:e.myOrders.orders}));return Object(n.useEffect)((function(){if(p.length)o(p.find((function(e){return e._id===r.id.substr(2,r.id.length-1)})));else switch(t){case"all":a({type:L,payload:{url:"wss://norma.nomoreparties.space/orders/all"}});break;case"my":a(d?{type:P,payload:{url:"wss://norma.nomoreparties.space/orders?token=".concat(A("burgerAccessToken").substr(7))}}:z())}}),[a,p,d,t,r.id]),i?Object(Z.jsxs)("div",{className:Ue.a.wrapper,children:[Object(Z.jsx)("div",{className:Ue.a.title,children:Object(Z.jsx)("p",{className:"text text_type_digits-default",children:"#".concat(i.number)})}),Object(Z.jsx)("p",{className:"text text_type_main-medium mb-2",children:i.name}),Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(Ue.a.status),children:Re(i.status)}),Object(Z.jsx)("p",{className:"text text_type_main-medium ".concat(Ue.a.details),children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(Z.jsx)("div",{className:Ue.a.orderDetailsWrapper,children:Se(i.ingredients,l).map((function(e){return Object(Z.jsxs)("div",{className:Ue.a.ingredient,children:[Object(Z.jsxs)("div",{className:Ue.a.ingredientWrapper,children:[Object(Z.jsx)("img",{alt:"ingredient",src:e.image_mobile,className:Ue.a.img}),Object(Z.jsx)("p",{className:"text text_type_main-default",children:e.name})]}),Object(Z.jsxs)("div",{className:Ue.a.countCostWrapper,children:[Object(Z.jsxs)("p",{className:"text text_type_digits-default ".concat(Ue.a.cost),children:[e.count," x ",e.price]}),Object(Z.jsx)(K.CurrencyIcon,{type:"primary"})]})]},e.id)}))}),Object(Z.jsxs)("div",{className:Ue.a.footer,children:[Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(Ue.a.footerText),children:Ae(i.createdAt)}),Object(Z.jsxs)("div",{className:Ue.a.countWrapper,children:[Object(Z.jsx)("p",{className:"text text_type_digits-default ".concat(Ue.a.cost),children:Ee(i.ingredients,l)}),Object(Z.jsx)(K.CurrencyIcon,{type:"primary"})]})]})]}):null},Me=r(16),Pe=r.n(Me),De=function(e){var t=e.data,r=e.needStatus,n=void 0!==r&&r,a=t.createdAt,c=t.name,s=t.number,i=t.status,o=Q((function(e){return e.ingredients})).ingredients;return Object(Z.jsxs)("div",{className:Pe.a.wrapper,children:[Object(Z.jsxs)("div",{className:Pe.a.titleWrapper,children:[Object(Z.jsx)("p",{className:"text text_type_digits-default",children:"#".concat(s)}),Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(Pe.a.titleTime),children:Ae(a)})]}),Object(Z.jsxs)("div",{className:Pe.a.textWrapper,children:[Object(Z.jsx)("p",{className:"text text_type_main-medium ".concat(Pe.a.captionBurger),children:c}),n?Object(Z.jsx)("p",{className:"text text_type_main-default ".concat("pending"===i&&Pe.a.cancelled," ").concat("done"===i&&Pe.a.inWork),children:Re(i)}):null]}),Object(Z.jsxs)("div",{className:Pe.a.burgerWrapper,children:[Object(Z.jsx)("div",{className:Pe.a.ingredientsWrapper,children:t.ingredients.map((function(e,r){return null!==e&&r<6?5===r?Object(Z.jsxs)("div",{className:Pe.a.imgWrapper,style:{zIndex:t.ingredients.length-r,right:"".concat(15*r,"px")},children:[Object(Z.jsx)("div",{className:Pe.a.ingredientCount,children:Object(Z.jsxs)("p",{className:"text text_type_main-default",children:["+",t.ingredients.length-r]})}),Object(Z.jsx)("img",{alt:"ingredient",className:Pe.a.img,style:{position:"absolute"},src:o.find((function(t){return t._id===e})).image_mobile})]},e):Object(Z.jsx)("img",{alt:"ingredient",className:Pe.a.img,style:{zIndex:t.ingredients.length-r,right:"".concat(0===r?0:15*r,"px")},src:o.find((function(t){return t._id===e})).image_mobile},e+r):null}))}),Object(Z.jsxs)("div",{className:Pe.a.costWrapper,children:[Object(Z.jsx)("p",{className:"text text_type_digits-default ".concat(Pe.a.cost),children:Ee(t.ingredients,o)}),Object(Z.jsx)(K.CurrencyIcon,{type:"primary"})]})]})]})},Fe=r(28),ze=r.n(Fe),He=function(e){var t=e.statusNumbers,r=e.total,n=e.totalToday,a=t.done,c=t.inWork;return Object(Z.jsxs)("div",{className:ze.a.orderTotal,children:[Object(Z.jsxs)("div",{className:ze.a.numbersWrapper,children:[Object(Z.jsxs)("div",{children:[Object(Z.jsx)("p",{className:"text text_type_main-medium ".concat(ze.a.ready),children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(Z.jsx)("div",{className:ze.a.itemsWrapper,children:a.map((function(e){return Object(Z.jsx)("p",{className:"text text_type_digits-default ".concat(ze.a.item," ").concat(ze.a.readyColor),children:e},e)}))})]}),Object(Z.jsxs)("div",{children:[Object(Z.jsx)("p",{className:"text text_type_main-medium ".concat(ze.a.ready),children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(Z.jsx)("div",{className:ze.a.itemsWrapper,children:c.map((function(e){return Object(Z.jsx)("p",{className:"text text_type_digits-default ".concat(ze.a.item),children:e},e)}))})]})]}),Object(Z.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(Z.jsx)("p",{className:"text text_type_digits-large ".concat(ze.a.count),children:r}),Object(Z.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(Z.jsx)("p",{className:"text text_type_digits-large ".concat(ze.a.count),children:n})]})},qe=function(e){var t={done:[],inWork:[]},r=e.filter((function(e){return"done"===e.status})),n=e.filter((function(e){return"pending"===e.status})),a=function(e,t){if(e.length>10)for(var r=0;r<10;r++)t.push(e[r].number);else for(var n=0;n!==e.length;n++)t.push(e[n].number)};return a(r,t.done),a(n,t.inWork),t},Je=r(33),Ge=r.n(Je),Qe=function(){var e=Object(V.h)(),t=G(),r=Q((function(e){return e.orderTape})),a=r.orders,c=r.total,s=r.totalToday;return Object(n.useEffect)((function(){return t({type:L,payload:{url:"wss://norma.nomoreparties.space/orders/all"}}),function(){t({type:M})}}),[t]),Object(Z.jsx)("div",{className:Ge.a.mainWrapper,children:Object(Z.jsx)("div",{className:Ge.a.wrapper,children:a.length?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("p",{className:"text text_type_main-large ".concat(Ge.a.title),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(Z.jsxs)("div",{className:Ge.a.mainBlock,children:[Object(Z.jsx)("div",{className:Ge.a.burgers,children:a.map((function(t,r){return Object(Z.jsx)(i.b,{className:Ge.a.link,to:{pathname:"/feed/id".concat(t._id),state:{modal:e}},children:Object(Z.jsx)("div",{className:Ge.a.itemWrapper,children:Object(Z.jsx)(De,{data:t})})},r)}))}),Object(Z.jsx)(He,{statusNumbers:qe(a),total:c,totalToday:s})]})]}):null})})},Ve=r(40),Ke=r(36),Xe=r.n(Ke),Ye=function(){var e=Object(V.h)(),t=G(),r=Q((function(e){return e.user.accessToken})),a=Q((function(e){return e.myOrders.orders}));return Object(n.useEffect)((function(){t(r?{type:P,payload:{url:"wss://norma.nomoreparties.space/orders?token=".concat(A("burgerAccessToken").substr(7))}}:z())}),[t,r]),Object(n.useEffect)((function(){return function(){t({type:D})}}),[t]),Object(Z.jsx)("div",{className:Xe.a.mainWrapper,children:Object(Z.jsxs)("div",{className:Xe.a.wrapper,children:[Object(Z.jsx)("div",{className:Xe.a.linksWrapper,children:Object(Z.jsx)(Ne,{})}),Object(Z.jsx)("div",{className:Xe.a.burgers,children:Object(Ve.a)(a).reverse().map((function(t){return Object(Z.jsx)(i.b,{className:Xe.a.link,to:{pathname:"/profile/orders/id".concat(t._id),state:{modal:e}},children:Object(Z.jsx)("div",{className:Xe.a.itemWrapper,children:Object(Z.jsx)(De,{data:t,needStatus:!0})})},t._id)}))})]})})},Ze=r(195),$e=r(56),et=r(196),tt=r(59),rt=r.n(tt),nt=function(e){var t=e.data,r=Q((function(e){return e.constructorIngredients})),a=r.bun,c=r.fillings,s=Object(n.useMemo)((function(){return"_id"in a&&a._id===t._id?2:c.filter((function(e){return e._id===t._id})).length}),[a,c,t._id]),i=Object(et.a)({type:t.type,item:{id:t._id,type:t.type}}),o=Object(me.a)(i,2)[1];return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)("div",{"data-qa":"product-component",ref:o,className:rt.a.ingredient,children:[Object(Z.jsx)("img",{alt:"ingredient",className:"mb-1",src:t.image}),Object(Z.jsxs)("div",{className:rt.a.costWrapper,children:[Object(Z.jsx)("p",{className:"text text_type_digits-default mr-1 mb-1",children:t.price}),Object(Z.jsx)(K.CurrencyIcon,{type:"primary"})]}),Object(Z.jsx)("p",{className:"text text_type_main-default ".concat(rt.a.nameIngredient),children:t.name})]}),s?Object(Z.jsx)(K.Counter,{count:s,size:"default"}):null]})},at=r(60),ct=r.n(at),st=function(e){var t=e.ingredientType,r=Q((function(e){return e.ingredients})).ingredients,n=Object(V.h)();return Object(Z.jsx)("ul",{className:"pt-3 pb-3 pr-1 pl-2 ".concat(ct.a.info),children:r.map((function(e){return e.type===t&&Object(Z.jsx)("li",{"data-cy":"ingredient",className:ct.a.ingredientWrapper,children:Object(Z.jsx)(i.b,{to:{pathname:"/ingredients/".concat(e._id),state:{modal:n}},className:ct.a.btn,children:Object(Z.jsx)(nt,{data:e})})},e._id)}))})},it=a.a.memo(st),ot=r(34),lt=r.n(ot),dt=function(){var e=Object(n.useState)("breads"),t=Object(me.a)(e,2),r=t[0],a=t[1],c=Object(n.useRef)(null),s=Object(n.useRef)(null),i=Object(n.useRef)(null),o=Object(n.useRef)(null),l=function(e){var t={behavior:"smooth"};switch(a(e),e){case"breads":null!==c.current&&c.current.scrollIntoView(t);break;case"sauces":null!==s.current&&s.current.scrollIntoView(t);break;default:null!==i.current&&i.current.scrollIntoView(t)}};return Object(Z.jsxs)("section",{className:lt.a.wrapper,children:[Object(Z.jsx)("p",{className:"text text_type_main-large ".concat(lt.a.title),children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(Z.jsxs)("div",{"data-testid":"tabs",className:lt.a.tabs,children:[Object(Z.jsx)(K.Tab,{value:"breads",active:"breads"===r,onClick:function(){return l("breads")},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(Z.jsx)(K.Tab,{value:"sauces",active:"sauces"===r,onClick:function(){return l("sauces")},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(Z.jsx)(K.Tab,{value:"fillings",active:"fillings"===r,onClick:function(){return l("fillings")},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(Z.jsxs)("div",{"data-cy":"ingredients-list",ref:o,onScroll:function(){var e=null!==o.current?o.current.getBoundingClientRect().top:0,t=null!==c.current?c.current.getBoundingClientRect().top:0,r=null!==s.current?s.current.getBoundingClientRect().top:0,n=t-e,l=r-e,d=(null!==i.current?i.current.getBoundingClientRect().top:0)-e;n<100&&n>=0&&a("breads"),l<100&&r>=0&&a("sauces"),d<100&&d>=0&&a("fillings")},className:lt.a.menuWrapper,children:[Object(Z.jsxs)("div",{"data-cy":"buns",ref:c,className:lt.a.block,children:[Object(Z.jsx)("p",{className:"text text_type_main-medium",children:"\u0411\u0443\u043b\u043a\u0438"}),Object(Z.jsx)(it,{ingredientType:"bun"})]}),Object(Z.jsxs)("div",{"data-cy":"sauces",ref:s,className:lt.a.block,children:[Object(Z.jsx)("p",{className:"text text_type_main-medium",children:"\u0421\u043e\u0443\u0441\u044b"}),Object(Z.jsx)(it,{ingredientType:"sauce"})]}),Object(Z.jsxs)("div",{"data-cy":"fillings",ref:i,className:lt.a.block,children:[Object(Z.jsx)("p",{className:"text text_type_main-medium",children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(Z.jsx)(it,{ingredientType:"main"})]})]})]})},pt=a.a.memo(dt),ut=r(197),jt=r(82),mt=r.n(jt),bt=function(e){var t=e.index,r=e.element,a=G(),c=x.deleteIngredient,s=x.updateFillings,i=Q((function(e){return e.constructorIngredients})).fillings,o=Object(n.useRef)(null),l=Object(n.useCallback)((function(e){return a(c(i.filter((function(t,r){return r!==e}))))}),[a,i,c]),d=Object(n.useCallback)((function(e,t){var r=e.indexDrag,n=t.indexDrop,c=Object(Ve.a)(i);c[r]=i.find((function(e,t){return t===n})),c[n]=i.find((function(e,t){return t===r})),a(s(c))}),[a,i,s]),p=Object(et.a)({type:"fillings",item:{indexDrag:t}}),u=Object(me.a)(p,2)[1],j=Object(ut.a)({accept:"fillings",collect:function(e){return{isTarget:e.isOver()}},drop:function(e,r){var n,a=e.indexDrag,c=t,s=null===(n=o.current)||void 0===n?void 0:n.getBoundingClientRect(),i=r.getClientOffset(),l=s&&s.bottom-s.top,p=i&&s&&i.y-s.top;!o.current||a===c||a<c&&p===l||a>c&&p===l||d(e,{indexDrop:t})}}),m=Object(me.a)(j,2),b=m[0].isTarget;return u((0,m[1])(o)),Object(Z.jsxs)("div",{ref:o,className:"mb-2 ".concat(mt.a.fillingIngredient," ").concat(b&&mt.a.target),children:[Object(Z.jsx)(K.ConstructorElement,{handleClose:function(){return l(t)},thumbnail:r.image_mobile,text:r.name,price:r.price,isLocked:!1}),Object(Z.jsx)(K.DragIcon,{type:"primary"})]})},xt=function(){var e=Object(I.a)(C.a.mark((function e(t){var r,n,a,c,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Headers).set("Content-Type","application/json"),r.set("authorization",A("burgerAccessToken")),e.prev=3,e.next=6,fetch("https://norma.nomoreparties.space/api/orders",{method:"POST",headers:r,body:JSON.stringify({ingredients:t})});case 6:if((n=e.sent).ok){e.next=12;break}return e.next=10,n.json();case 10:throw a=e.sent,new Error(a.message);case 12:return e.next=14,n.json();case 14:return e.abrupt("return",e.sent);case 17:if(e.prev=17,e.t0=e.catch(3),"jwt expired"!==e.t0.message){e.next=42;break}return B("burgerAccessToken"),e.prev=21,e.next=24,fetch(E,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({token:localStorage.getItem("burgerRefreshToken")})});case 24:if((c=e.sent).ok){e.next=27;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435.");case 27:return e.next=29,c.json();case 29:return s=e.sent,R("burgerAccessToken",s.accessToken),localStorage.setItem("burgerRefreshToken",s.refreshToken),e.next=34,xt(t);case 34:return e.abrupt("return",e.sent);case 37:e.prev=37,e.t1=e.catch(21),console.log(e.t1.message);case 40:e.next=43;break;case 42:return e.abrupt("return",e.t0);case 43:case"end":return e.stop()}}),e,null,[[3,17],[21,37]])})));return function(t){return e.apply(this,arguments)}}(),ft=r(49),ht=r.n(ft),_t=function(){var e=Object(V.h)(),t=Object(V.g)(),r=G(),a=Q((function(e){return e.constructorIngredients})),c=a.bun,s=a.fillings,i=Object(n.useState)({text:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",isBlocked:!1}),o=Object(me.a)(i,2),l=o[0],d=o[1],p=Object(n.useCallback)(Object(I.a)(C.a.mark((function n(){var a,i;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Object.keys(c).length){n.next=17;break}return(null===(a=A("burgerAccessToken"))||void 0===a?void 0:a.length)&&d({text:"\u0413\u043e\u0442\u043e\u0432\u0438\u043c \u0437\u0430\u043a\u0430\u0437",isBlocked:!0}),r({type:"modal/setStartInfo"}),t.push({pathname:"/start-order",state:{modal:e}}),n.prev=4,n.next=7,xt([c._id].concat(Object(Ve.a)(s.map((function(e){return e._id}))),[c._id]));case 7:if(!((i=n.sent)instanceof Error)){n.next=10;break}throw new Error;case 10:"/start-order"===window.location.pathname?r({type:"modal/setEndInfo",payload:{number:null===i||void 0===i?void 0:i.order.number,name:null===i||void 0===i?void 0:i.name}}):"/"===window.location.pathname&&(r({type:"modal/setEndInfo",payload:{number:null===i||void 0===i?void 0:i.order.number,name:null===i||void 0===i?void 0:i.name}}),t.push({pathname:"/start-order",state:{modal:e}})),d({text:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",isBlocked:!1}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[4,14]])}))),[c,s,t,e,r]);return Object(n.useEffect)((function(){return function(){return d({text:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",isBlocked:!1})}}),[]),Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)(K.Button,{onClick:l.isBlocked?function(){}:p,type:"primary",size:"large",children:l.isBlocked?Object(Z.jsxs)("div",{children:[Object(Z.jsxs)("span",{className:ht.a.spinner,children:[Object(Z.jsx)("span",{className:ht.a.bottom}),Object(Z.jsx)("span",{className:ht.a.top})]}),Object(Z.jsx)("span",{className:ht.a.loading,children:l.text})]}):l.text})})},Ot=r(30),gt=r.n(Ot),vt=(r(188),function(){var e=G(),t=x.setBuns,r=x.setFillings,a=Q((function(e){return e.ingredients})).blockedAll,c=Q((function(e){return e.constructorIngredients})),s=c.bun,i=c.fillings,o=Q((function(e){return e.ingredients})).ingredients,l=Object(n.useMemo)((function(){var e=[];return"price"in s&&e.push(2*s.price||0),e.push(i.reduce((function(e,t){return e+t.price}),0)||0),e.reduce((function(e,t){return e+t}),0)}),[s,i]),d=Object(ut.a)({accept:["bun","main","sauce"],drop:function(n){switch(n.type){case"bun":e(t(o.find((function(e){return e._id===n.id}))));break;case"main":case"sauce":e(r(o.find((function(e){return e._id===n.id}))));break;default:return}}}),p=Object(me.a)(d,2)[1];return a?null:Object(Z.jsxs)("section",{className:gt.a.wrapper,children:[Object(Z.jsx)("div",{"data-cy":"constructor",ref:p,className:gt.a.itemWrapper,children:Object.keys(s).length||i.length?Object(Z.jsxs)(Z.Fragment,{children:[Object.keys(s).length?Object(Z.jsx)("div",{className:"mb-2 mr-1",children:Object(Z.jsxs)("div",{className:"mb-2 ".concat(gt.a.ingredient),children:[Object(Z.jsx)(K.ConstructorElement,{thumbnail:"image_mobile"in s?s.image_mobile:"",text:Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{children:"name"in s?s.name:""}),Object(Z.jsx)("div",{children:"(\u0432\u0435\u0440\u0445)"})]}),price:"price"in s?s.price:0,isLocked:!0,type:"top"}),Object(Z.jsx)(K.DragIcon,{type:"primary"})]})}):null,i.length?Object(Z.jsx)(Ze.a,{backend:$e.a,children:Object(Z.jsx)("div",{"data-cy":"filling-arr",className:gt.a.mainIngredientsWrapper,children:i.map((function(e,t){return Object(Z.jsx)(bt,{element:e,index:t},"".concat(e._id).concat(t))}))})}):null,Object.keys(s).length?Object(Z.jsx)("div",{className:"mt-2 mr-1",children:Object(Z.jsxs)("div",{className:"mb-2 ".concat(gt.a.ingredient),children:[Object(Z.jsx)(K.ConstructorElement,{thumbnail:"image_mobile"in s?s.image_mobile:"",text:Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{children:"name"in s?s.name:""}),Object(Z.jsx)("div",{children:"(\u043d\u0438\u0437)"})]}),price:"price"in s?s.price:0,isLocked:!0,type:"bottom"}),Object(Z.jsx)(K.DragIcon,{type:"primary"})]})}):null]}):Object(Z.jsx)("div",{className:gt.a.emptyWrapper,children:Object(Z.jsx)("p",{className:"text text_type_main-default",children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u043e\u044e\u0434\u0430 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b \u0431\u0443\u0440\u0433\u0435\u0440\u0430"})})}),Object(Z.jsxs)("div",{className:"mr-2 ".concat(gt.a.footerWrapper),children:[Object(Z.jsxs)("div",{className:gt.a.summWrapper,children:[Object(Z.jsx)("p",{className:"text text_type_digits-default ".concat(gt.a.summText),children:l}),Object(Z.jsx)(K.CurrencyIcon,{type:"primary"})]}),Object(Z.jsx)(_t,{})]})]})}),yt=a.a.memo(vt),kt=r(105),wt=r.n(kt),Nt=function(){return Object(Z.jsx)("div",{className:wt.a.wrapper,children:Object(Z.jsxs)(Ze.a,{backend:$e.a,children:[Object(Z.jsx)(pt,{}),Object(Z.jsx)(yt,{})]})})},Tt=r(50),Wt=r.n(Tt),Ct=function(){var e=Object(V.h)(),t=G(),r=Object(V.g)(),a=e.state&&e.state.modal;return"POP"===r.action&&(e.state={}),Object(n.useEffect)((function(){t(function(){var e=j.setAllIngredientsError,t=j.setAllIngredientsRequest,r=j.setAllIngredientsSuccess;return function(){var n=Object(I.a)(C.a.mark((function n(a){var c,s,i;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(t()),n.prev=1,n.next=4,fetch("https://norma.nomoreparties.space/api/ingredients");case 4:if((c=n.sent).ok){n.next=7;break}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435.");case 7:return n.next=9,c.json();case 9:s=n.sent,i=s.data,a(r(i)),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),a(e(n.t0.message));case 17:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(e){return n.apply(this,arguments)}}()}())}),[t]),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ee,{}),Object(Z.jsx)("main",{className:Wt.a.mainWrapper,children:Object(Z.jsxs)(V.d,{location:a||e,children:[Object(Z.jsx)(V.b,{exact:!0,path:"/",children:Object(Z.jsx)(Nt,{})}),Object(Z.jsx)(V.b,{exact:!0,path:"/ingredients/:id",children:Object(Z.jsx)("div",{className:Wt.a.appWrapper,children:Object(Z.jsx)(de,{})})}),Object(Z.jsx)(V.b,{exact:!0,path:"/feed",children:Object(Z.jsx)(Qe,{})}),Object(Z.jsx)(V.b,{exact:!0,path:"/feed/:id",children:Object(Z.jsx)("div",{className:Wt.a.appWrapper,children:Object(Z.jsx)(Le,{showOrders:"all"})})}),Object(Z.jsx)(be,{exact:!0,path:"/login",protectType:"authorized",children:Object(Z.jsx)(_e,{})}),Object(Z.jsx)(be,{exact:!0,path:"/register",protectType:"authorized",children:Object(Z.jsx)(he,{})}),Object(Z.jsx)(be,{exact:!0,path:"/forgot-password",protectType:"authorized",children:Object(Z.jsx)(ge,{})}),Object(Z.jsx)(be,{exact:!0,path:"/reset-password",protectType:"authorized",children:Object(Z.jsx)(ye,{})}),Object(Z.jsx)(be,{exact:!0,path:"/profile",protectType:"nonAuthorized",children:Object(Z.jsx)(Te,{})}),Object(Z.jsx)(be,{exact:!0,path:"/profile/orders",protectType:"nonAuthorized",children:Object(Z.jsx)(Ye,{})}),Object(Z.jsx)(be,{exact:!0,path:"/profile/orders/:id",protectType:"nonAuthorized",children:Object(Z.jsx)("div",{className:Wt.a.appWrapper,children:Object(Z.jsx)(Le,{showOrders:"my"})})}),Object(Z.jsx)(V.b,{children:Object(Z.jsx)(Ie,{})})]})}),a&&Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(V.d,{children:[Object(Z.jsx)(V.b,{exact:!0,path:"/ingredients/:id",children:Object(Z.jsx)(ie,{children:Object(Z.jsx)(de,{})})}),Object(Z.jsx)(V.b,{exact:!0,path:"/feed/:id",children:Object(Z.jsx)(ie,{children:Object(Z.jsx)(Le,{showOrders:"all"})})}),Object(Z.jsx)(be,{exact:!0,path:"/start-order",protectType:"nonAuthorized",children:Object(Z.jsx)(ie,{children:Object(Z.jsx)(je,{})})}),Object(Z.jsx)(be,{exact:!0,path:"/profile/orders/:id",protectType:"nonAuthorized",children:Object(Z.jsx)(ie,{children:Object(Z.jsx)(Le,{showOrders:"my"})})})]})})]})},It=(r(189),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,198)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))}),St=Object(l.a)({reducer:N,middleware:function(e){return e().concat(J)}});s.a.render(Object(Z.jsx)(a.a.StrictMode,{children:Object(Z.jsx)(o.a,{store:St,children:Object(Z.jsx)(i.a,{children:Object(Z.jsx)(Ct,{})})})}),document.getElementById("root")),It()},27:function(e,t,r){e.exports={wrapper:"ingredient-details_wrapper__1NyXJ",title:"ingredient-details_title__30kE2",image:"ingredient-details_image__2wYzY",main:"ingredient-details_main__234jU",details:"ingredient-details_details__3ttKf",infoWrapper:"ingredient-details_infoWrapper__10jIK",infoElement:"ingredient-details_infoElement__39Q81",name:"ingredient-details_name__3h--x"}},28:function(e,t,r){e.exports={orderTotal:"order-total_orderTotal__1Grrk",numbersWrapper:"order-total_numbersWrapper__1rmsx",ready:"order-total_ready__1RDwO",readyWrapper:"order-total_readyWrapper__3krQx",count:"order-total_count__1l3Qd",item:"order-total_item__1GdH0",readyColor:"order-total_readyColor__v5b1F",itemsWrapper:"order-total_itemsWrapper__2ktld"}},29:function(e,t,r){e.exports={wrapper:"order-details_wrapper__3gdMA",number:"order-details_number__3YC3y",title:"order-details_title__nmqhw",image:"order-details_image__1mL34",vektorSecond:"order-details_vektorSecond__2bpJn",second:"order-details_second__23kGO",vektorThird:"order-details_vektorThird__3fUvl",third:"order-details_third__2orof",vektorFirst:"order-details_vektorFirst__6H40P",first:"order-details_first__4-Mz5",done:"order-details_done__3Thj6",details:"order-details_details__2ek3B"}},30:function(e,t,r){e.exports={mainIngredientsWrapper:"burger-constructor_mainIngredientsWrapper__2X1ME",summWrapper:"burger-constructor_summWrapper__1yd4m",wrapper:"burger-constructor_wrapper__1-RHH",itemWrapper:"burger-constructor_itemWrapper__20Qnb",ingredient:"burger-constructor_ingredient__sbrMl",summText:"burger-constructor_summText__4mE7w",footerWrapper:"burger-constructor_footerWrapper__1XJiC",emptyWrapper:"burger-constructor_emptyWrapper__Vhmyz"}},33:function(e,t,r){e.exports={mainWrapper:"order-tape_mainWrapper__VhPGQ",wrapper:"order-tape_wrapper__3w-So",title:"order-tape_title__emiF-",mainBlock:"order-tape_mainBlock__qh7-U",burgers:"order-tape_burgers__2r66y",link:"order-tape_link__24UNb",itemWrapper:"order-tape_itemWrapper__yW7JX"}},34:function(e,t,r){e.exports={menuWrapper:"burger-ingredients_menuWrapper__3T6t2",wrapper:"burger-ingredients_wrapper__TmxwH",title:"burger-ingredients_title__aTorW",tabs:"burger-ingredients_tabs__3ropk",block:"burger-ingredients_block__3YWMR"}},36:function(e,t,r){e.exports={mainWrapper:"order-history_mainWrapper__wr8Ci",wrapper:"order-history_wrapper__3fSu_",linksWrapper:"order-history_linksWrapper__23U-r",burgers:"order-history_burgers__3vFpR",link:"order-history_link__ZmWjg",itemWrapper:"order-history_itemWrapper__YVb6S"}},4:function(e,t,r){e.exports={mainProfileWrapper:"input-pages_mainProfileWrapper__-kB81",profileWrapper:"input-pages_profileWrapper__2t2Xa",inputsWrapper:"input-pages_inputsWrapper__2XW4_",wrapper:"input-pages_wrapper__3Ib6G",logo:"input-pages_logo__2xa4z",title:"input-pages_title__338Jt",inputWrapper:"input-pages_inputWrapper__3FLvL",button:"input-pages_button__3MWAJ",footer:"input-pages_footer__bcZPn",footerInfo:"input-pages_footerInfo__YFHEq",footerEnter:"input-pages_footerEnter__2yox4",linksWrapper:"input-pages_linksWrapper__2Caer",buttonsWrapper:"input-pages_buttonsWrapper__2j8yh"}},44:function(e,t,r){},49:function(e,t,r){e.exports={spinner:"confirm-button_spinner__nQJ9t",top:"confirm-button_top__3rMoy","top-cricle":"confirm-button_top-cricle__biM2v",bottom:"confirm-button_bottom__1qK_C","bottom-cricle":"confirm-button_bottom-cricle__1KW7c"}},50:function(e,t,r){e.exports={mainWrapper:"app_mainWrapper__2G668",appWrapper:"app_appWrapper__ltgTe"}},58:function(e,t,r){e.exports={main:"modal_main__3VkQe",wrapper:"modal_wrapper__3Pq05",close:"modal_close__1kHae"}},59:function(e,t,r){e.exports={ingredient:"product_ingredient__3SvI9",costWrapper:"product_costWrapper__3Ptp5",nameIngredient:"product_nameIngredient__PbbqW"}},60:function(e,t,r){e.exports={info:"product-group_info__3kqOg",ingredientWrapper:"product-group_ingredientWrapper__2iHXM",btn:"product-group_btn__2nUyt"}},82:function(e,t,r){e.exports={fillingIngredient:"burger-filling_fillingIngredient__GzD_k",target:"burger-filling_target__20Znu"}}},[[190,1,2]]]);
//# sourceMappingURL=main.478d5196.chunk.js.map